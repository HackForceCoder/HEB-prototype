{"ast":null,"code":"// ------------------------ Imports ------------------------\nimport React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import logo from\"C:/Users/Milan/Desktop/StudyHub/client/src/images/blackLogo.png\";import{Button,Form,Input,Menu,message}from'antd';import{LockOutlined,UserOutlined,HomeOutlined,UserAddOutlined,LoginOutlined,MessageOutlined}from'@ant-design/icons';// ------------------------ InicioSesion (form for LogIn) ------------------------\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InicioSesion=()=>{const[form]=Form.useForm();const navigate=useNavigate();const onFinish=async values=>{//const userData = JSON.stringify({ email: values.correo, password: values.password });\ntry{const response=await fetch('https://primaryai.000webhostapp.com/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(values)});if(response.ok){// Login successful\nmessage.success('Inicio de sesión exitoso');// Redirecting the user after a second\nsetTimeout(()=>{navigate(`/chat/${values.email}`);},1000);}else{// Login failed\nconst data=await response.json();message.error(data.message);}}catch(error){console.error('Error during login:',error);message.error('Error durante el inicio de sesión');}};const isEmailValid=email=>{// Basic email validation\nconst emailPattern=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailPattern.test(email);};return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'200px',marginTop:'10%',marginBottom:'0px'},children:/*#__PURE__*/_jsxs(Form,{form:form,name:\"horizontal_login\",layout:\"vertical\",onFinish:onFinish,style:{width:'250px'},children:[/*#__PURE__*/_jsx(Form.Item,{name:\"email\",rules:[{required:true,message:'Por favor ingrese su correo electrónico'},{validator(_,value){if(!value||isEmailValid(value)){return Promise.resolve();}return Promise.reject(new Error('Por favor ingrese un correo electrónico válido'));}}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(UserOutlined,{className:\"site-form-item-icon\"}),placeholder:\"Correo\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",rules:[{required:true,message:'Por favor ingrese su contraseña'}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(LockOutlined,{className:\"site-form-item-icon\"}),type:\"password\",placeholder:\"Contrase\\xF1a\"})}),/*#__PURE__*/_jsx(Form.Item,{shouldUpdate:true,children:()=>/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",disabled:!form.isFieldsTouched(true)||!!form.getFieldsError().filter(_ref=>{let{errors}=_ref;return errors.length;}).length,style:{width:'100%',minHeight:'45px',fontSize:'18px',color:'#fff'},children:\"Iniciar sesi\\xF3n\"})})})]})});};// ------------------------ Export default ------------------------\nexport default InicioSesion;","map":{"version":3,"names":["React","useState","Link","useNavigate","logo","Button","Form","Input","Menu","message","LockOutlined","UserOutlined","HomeOutlined","UserAddOutlined","LoginOutlined","MessageOutlined","jsx","_jsx","jsxs","_jsxs","InicioSesion","form","useForm","navigate","onFinish","values","response","fetch","method","headers","body","JSON","stringify","ok","success","setTimeout","email","data","json","error","console","isEmailValid","emailPattern","test","style","display","justifyContent","alignItems","height","marginTop","marginBottom","children","name","layout","width","Item","rules","required","validator","_","value","Promise","resolve","reject","Error","prefix","className","placeholder","type","shouldUpdate","htmlType","disabled","isFieldsTouched","getFieldsError","filter","_ref","errors","length","minHeight","fontSize","color"],"sources":["C:/Users/Milan/Desktop/HEB-prototype/prototype/src/components/formInicioSesion.js"],"sourcesContent":["// ------------------------ Imports ------------------------\r\nimport React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport logo from \"C:/Users/Milan/Desktop/StudyHub/client/src/images/blackLogo.png\";\r\nimport { Button, Form, Input, Menu, message } from 'antd';\r\nimport { LockOutlined, UserOutlined, HomeOutlined, UserAddOutlined, LoginOutlined, MessageOutlined } from '@ant-design/icons';\r\n\r\n\r\n// ------------------------ InicioSesion (form for LogIn) ------------------------\r\nconst InicioSesion = () => {\r\n    const [form] = Form.useForm();\r\n    const navigate = useNavigate();\r\n\r\n    const onFinish = async (values) => {\r\n        //const userData = JSON.stringify({ email: values.correo, password: values.password });\r\n\r\n        try {\r\n            const response = await fetch('https://primaryai.000webhostapp.com/api/login', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(values),\r\n            });\r\n\r\n            if (response.ok) {\r\n                // Login successful\r\n                message.success('Inicio de sesión exitoso');\r\n                // Redirecting the user after a second\r\n                setTimeout(() => { navigate(`/chat/${values.email}`); }, 1000);\r\n            } else {\r\n                // Login failed\r\n                const data = await response.json();\r\n                message.error(data.message);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error during login:', error);\r\n            message.error('Error durante el inicio de sesión');\r\n        }\r\n    };\r\n\r\n    const isEmailValid = (email) => {\r\n        // Basic email validation\r\n        const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        return emailPattern.test(email);\r\n    };\r\n\r\n    return (\r\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '200px', marginTop: '10%', marginBottom: '0px' }}>\r\n            <Form form={form} name=\"horizontal_login\" layout=\"vertical\" onFinish={onFinish} style={{ width: '250px' }}>\r\n                <Form.Item\r\n                    name=\"email\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: 'Por favor ingrese su correo electrónico',\r\n                        },\r\n                        {\r\n                            validator(_, value) {\r\n                                if (!value || isEmailValid(value)) {\r\n                                    return Promise.resolve();\r\n                                }\r\n                                return Promise.reject(new Error('Por favor ingrese un correo electrónico válido'));\r\n                            },\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Correo\" />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"password\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: 'Por favor ingrese su contraseña',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input\r\n                        prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                        type=\"password\"\r\n                        placeholder=\"Contraseña\"\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item shouldUpdate>\r\n                    {() => (\r\n                        <div className='button-container'>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                                disabled={\r\n                                    !form.isFieldsTouched(true) ||\r\n                                    !!form.getFieldsError().filter(({ errors }) => errors.length).length\r\n                                }\r\n                                style={{\r\n                                    width: '100%',\r\n                                    minHeight: '45px',\r\n                                    fontSize: '18px',\r\n                                    color: '#fff',\r\n                                }}\r\n                            >\r\n                                Iniciar sesión\r\n                            </Button>\r\n                        </div>\r\n\r\n                    )}\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// ------------------------ Export default ------------------------\r\nexport default InicioSesion;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}